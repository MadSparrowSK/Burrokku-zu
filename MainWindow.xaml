<Window x:Class="Interface_1._0.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Interface_1._0"
        mc:Ignorable="d"
        Title="MainWindow" Height="600" Width="1000"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        WindowStyle="None"
        Background="#FFBEBEBE"
        ResizeMode="CanResizeWithGrip"
        MinHeight="540"
        MinWidth="900"
        Icon="Icon/Icon.jpg"
        Closing ="Window_Closing"
        PreviewKeyDown="KeyBinding"
        
        >
    <Window.Resources>
        <SolidColorBrush x:Key="ButtonBrush1" Color="#FF2A2A30"/>
        <SolidColorBrush x:Key="ButtonBrush2" Color="#FF2E2E30"/>
        <SolidColorBrush x:Key="CanvasBackground" Color="#FFBEBEBE"/>
        <DrawingBrush x:Key="gridGeom" Viewport="0,0,10,10" ViewportUnits="Absolute" TileMode="Tile">
            <DrawingBrush.Drawing>
                <GeometryDrawing Brush="Black">

                    <GeometryDrawing.Geometry>

                        <GeometryGroup FillRule="EvenOdd">

                            <RectangleGeometry Rect="0,0,50,50" />

                            <RectangleGeometry Rect="0,0,49,49" />

                        </GeometryGroup>

                    </GeometryDrawing.Geometry>

                </GeometryDrawing>

            </DrawingBrush.Drawing>
        </DrawingBrush>
        <Style x:Key="MainCanvas" TargetType="Canvas">
            <Style.Triggers>
                <DataTrigger Binding="{Binding ElementName= gridPNG, Path=MouseDown }" Value="True">
                    <Setter Property="Background" Value="{StaticResource CanvasBackground}"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Ellipse" TargetType="Rectangle">
            <Setter Property="Fill">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="#CCB7EE" Offset="0"/>
                        <GradientStop Color="#C8CAF1" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Stroke">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.3,1.4"   StartPoint="0.2,0">
                        <GradientStop Color="#00069B" Offset="0"/>
                        <GradientStop Color="#BA48B6" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Width" Value="70"/>
            <Setter Property="Height" Value="25"/>
            <Setter Property="RadiusX" Value="13"/>
            <Setter Property="RadiusY" Value="20"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Stroke" Value="White"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="False">
                    <Setter Property="Stroke">
                        <Setter.Value>
                            <LinearGradientBrush EndPoint="0.3,1.4"   StartPoint="0.2,0">
                                <GradientStop Color="#00069B" Offset="0"/>
                                <GradientStop Color="#BA48B6" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Rect" TargetType="Polygon">
            <Setter Property="Points" Value="8,1 8,30 60,30 60,1 8,1"/>
            <Setter Property="Fill">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="#CCB7EE" Offset="0"/>
                        <GradientStop Color="#C8CAF1" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Stroke">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.1,0.4"   StartPoint="1.2,0">
                        <GradientStop Color="#00069B" Offset="0"/>
                        <GradientStop Color="#BA48B6" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Stroke" Value="White"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="False">
                    <Setter Property="Stroke">
                        <Setter.Value>
                            <LinearGradientBrush EndPoint="0.3,1.4"   StartPoint="0.2,0">
                                <GradientStop Color="#00069B" Offset="0"/>
                                <GradientStop Color="#BA48B6" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Parrabullem" TargetType="Polygon">
            <Setter Property="Points" Value="8,1 0,30 60,30 68,1 8,1"/>
            <Setter Property="Fill">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0" >
                        <GradientStop Color="#CCB7EE" Offset="0"/>
                        <GradientStop Color="#C8CAF1" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Stroke">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.9,0.3"   StartPoint="0.2,0">
                        <GradientStop Color="#00069B" Offset="0"/>
                        <GradientStop Color="#BA48B6" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Stroke" Value="White"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="False">
                    <Setter Property="Stroke">
                        <Setter.Value>
                            <LinearGradientBrush EndPoint="0.3,1.4"   StartPoint="0.2,0">
                                <GradientStop Color="#00069B" Offset="0"/>
                                <GradientStop Color="#BA48B6" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Rhomb" TargetType="Polygon">
            <Setter Property="Points" Value="0,8 40,20 80,8 40,-4 0,8"/>
            <Setter Property="Fill">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0" >
                        <GradientStop Color="#CCB7EE" Offset="0"/>
                        <GradientStop Color="#C8CAF1" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Stroke">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.1,0.4"   StartPoint="1.2,0">
                        <GradientStop Color="#00069B" Offset="0"/>
                        <GradientStop Color="#BA48B6" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Stroke" Value="White"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="False">
                    <Setter Property="Stroke">
                        <Setter.Value>
                            <LinearGradientBrush EndPoint="0.3,1.4"   StartPoint="0.2,0">
                                <GradientStop Color="#00069B" Offset="0"/>
                                <GradientStop Color="#BA48B6" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Cycle" TargetType="Polygon">
            <Setter Property="Points" Value="1,8 7,20 60,20 67,8 60,-6 7,-6 1,8"/>
            <Setter Property="Fill">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0" >
                        <GradientStop Color="#CCB7EE" Offset="0"/>
                        <GradientStop Color="#C8CAF1" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Stroke">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.1,0.4"   StartPoint="1.2,0">
                        <GradientStop Color="#00069B" Offset="0"/>
                        <GradientStop Color="#BA48B6" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Stroke" Value="White"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="False">
                    <Setter Property="Stroke">
                        <Setter.Value>
                            <LinearGradientBrush EndPoint="0.3,1.4"   StartPoint="0.2,0">
                                <GradientStop Color="#00069B" Offset="0"/>
                                <GradientStop Color="#BA48B6" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="Button" TargetType="Label">
            <Setter Property="Height" Value="14"/>
            <Setter Property="Width" Value="130"/>
            <Setter Property="Margin" Value="0,2,1,0"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="Padding" Value="2,0,0,0"/>
            <Setter Property="Background" Value="#FF3E3C39"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF474643"/>
                </Trigger>
            </Style.Triggers>


        </Style>
        <Style x:Key="ButtonHead" TargetType="Label">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,0,10,0"/>
            
        </Style>
        
    </Window.Resources>

    <Border Name="Border">
        <Grid>
            <Grid ShowGridLines="False">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40"></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="110"></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>

                <!--#region  Header-->
                <DockPanel Grid.Column="2"
                       Grid.Row="0"
                       MouseLeftButtonDown="Mouse_Drag_Window" Name="RHDP"
                       KeyDown="KeyBinding">
                    <DockPanel.Background>
                        <SolidColorBrush Color="#FF2E2E30">
                        </SolidColorBrush>
                    </DockPanel.Background>

                    <StackPanel
                        Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        KeyDown="KeyBinding">
                        <Label Width="44"
                           MouseEnter="Mouse_Enter"
                           MouseLeave="Mouse_Leave"
                           MouseLeftButtonDown="Roll_Up"
                           Padding="14.55,18,0,0">

                            <Polyline Stroke="White" Points=" 0,0 15,0" Name="RollUp"></Polyline>
                        </Label>

                        <Label Foreground="White"
                           Width="44"
                           MouseEnter="Mouse_Enter"
                           MouseLeave="Mouse_Leave"
                           Padding="17,12,5,5"
                           MouseLeftButtonDown="Resize_Wondow"
                           >
                            <Canvas >
                                <Rectangle Stroke="White"
                                       Height="10"
                                       Width="10"
                                       Panel.ZIndex="1"
                                       Fill="#2d2d30"></Rectangle>

                                <Rectangle Stroke="White"
                                       Width="10"
                                       Height="10"
                                       Canvas.Top="-2"
                                       Canvas.Right="-12"></Rectangle>
                            </Canvas>
                        </Label>

                        <Label MouseEnter="Mouse_Enter_Close"
                           MouseLeave="Mouse_Leave_Close"
                           MouseLeftButtonDown="Close_Click" 
                           Foreground="White"
                           Name="lbl_Close"
                           Padding="28,9,7,5"
                           Width="44">

                            <Canvas>
                                <Polyline Stroke="White" Points="0,0 -12,12"></Polyline>
                                <Polyline Stroke="White" Points=" 0,12 -12,0"></Polyline>
                            </Canvas>
                        </Label>

                    </StackPanel>
                </DockPanel>
                <!--#endregion-->

                <!--#region left_side-->
                <DockPanel Grid.Column="0"
                       Grid.Row="0"
                       Grid.ColumnSpan="2"
                       MouseLeftButtonDown="Mouse_Drag_Window"
                       >
                    <DockPanel.Background>
                        <SolidColorBrush Color="#FF2E2E30" ></SolidColorBrush>
                    </DockPanel.Background>

                </DockPanel>
                <!--#endregion-->

                <!--#region menu_bar-->

                <DockPanel Grid.Column="0"
                       Grid.ColumnSpan="2"
                       Grid.Row="0" HorizontalAlignment="Left" Width="454" Margin="0,2"
                       >
                    <StackPanel Orientation="Vertical" MouseLeave="Border_MouseMove">
                        <StackPanel Orientation="Horizontal" Height="18" Margin="0,5,0,0">
                            <Label Content="Файл"  Style="{StaticResource ButtonHead}"
                           MouseEnter="Header_Mouse_Enter" MouseLeave="Header_Mouse_Leave"
                           MouseDown="FileDown"
                                   MouseUp="ButtonUp"/>
                            <Label Content="Редактировать" Style="{StaticResource ButtonHead}" 
                                   MouseEnter="Header_Mouse_Enter"
                           MouseLeave="Header_Mouse_Leave"
                           MouseDown="EditDown"
                           MouseUp="ButtonUp"
                           />
                            <Label Content="Помощь" Style="{StaticResource ButtonHead}"
                           MouseEnter="Header_Mouse_Enter" MouseLeave="Header_Mouse_Leave"
                           MouseDown="prev"/>



                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Name="gridPNG">

                            <Image Source="Resources\Grid_3.png" Width="12" Margin="8,2,0,0" MouseDown="GridSwitcher"/>
                        </StackPanel>
                    </StackPanel>



                </DockPanel>

                <!--#endregion-->

                <!--#region  main field-->
                <Canvas Grid.Row="1"
                            Grid.Column="1"
                            AllowDrop="True"
                            Drop="DnD_Drop"
                            Name="CanvasPos"
                            Focusable="True" Grid.ColumnSpan="2" Margin="0,0,-1209,-1528"
                        Background="{StaticResource gridGeom}"
                        >
                    
                    <Polyline Stroke="Transparent" Points="8,0 0,0 0,8 8,0" Name="Anchor"/>
                </Canvas>

                <!--#endregion-->

                <!--#region left_side_bar -->

                <Border    Grid.Column="0"
                       Grid.Row="1"
                       BorderBrush="#c0c0c0" BorderThickness="0,0,2,0"
                       >
                    <Border.Background>
                        <SolidColorBrush Color="#FFD0D0D0" ></SolidColorBrush>
                    </Border.Background>
                </Border>

                <DockPanel Grid.Column="0"
                       Grid.Row="1"
                       VerticalAlignment="Top" Height="239">
                    <StackPanel Orientation="Vertical">

                        <Label Padding="20,15,0,10"
                           Name="lbl_Ellipse">
                            <Rectangle Style="{StaticResource Ellipse}"
                                   Name="Ellipse"
                                   MouseDown="DragDrop_MD"/>
                        </Label>

                        <Label Padding="20,10,0,10"
                        
                           Name="lbl_Rect">
                            <Polygon Style="{StaticResource Rect}"
                                 Name="Rekt" MouseDown="DragDrop_MD"/>

                        </Label>

                        <Label Padding="19,10,0,10"
                           Name="lbl_Parrabellum">

                            <Polygon Style="{StaticResource Parrabullem}"
                                 Name="Parrabellum" 
                                 MouseDown="DragDrop_MD"></Polygon>

                        </Label>

                        <Label Padding="14,12,0,8"
                           Name="lbl_Rhomb">

                            <Polygon Style="{StaticResource Rhomb}"
                            Name="Rhomb" 
                                 MouseDown="DragDrop_MD"/>

                        </Label>

                        <Label Padding="9,12,0,-1"
                           Name="lbl_RWL">
                        </Label>

                        <Label Padding="20,16,0,12"
                           Name="lbl_Cylce">

                            <Polygon Style="{StaticResource Cycle}"
                            
                                 Name="Cycle"  MouseDown="DragDrop_MD"></Polygon>

                        </Label>
                    </StackPanel>
                </DockPanel>
                <!--#endregion-->
            </Grid>
            <Grid Name="FileZone" Background="#FF41403E" Height="50" Width="130" Margin="9,24,0,0"
                  Grid.Row="1" Grid.Column="1" 
                  VerticalAlignment="Top"
                  HorizontalAlignment="Left"
                  Panel.ZIndex="900"
                  MouseLeave="FileZone_MouseLeave"
                  Visibility="Hidden">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Left" Width="130">
                    <Label   Style="{StaticResource Button}" MouseDown="DownLoad" Name="btnLoad">
                        <Label.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Загрузить"/>
                                <TextBlock Text="Ctrl+L" Margin="52,0,0,0" Foreground="Gray"/>
                            </StackPanel>
                        </Label.Content>
                    </Label>
                    <Label  Style="{StaticResource Button}"  MouseDown="CutDownSave" Name="btnShortSave">
                        <Label.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Сохранить"/>
                                <TextBlock Text="Alt+S" Margin="48,0,0,0" Foreground="Gray"/>
                            </StackPanel>
                        </Label.Content>
                    </Label>
                    <Label  Style="{StaticResource Button}" MouseDown="DownSave" Name="btnSave">
                        <Label.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Сохранить как"/>
                                <TextBlock Text="Ctrl+S" Margin="28,0,0,0" Foreground="Gray"/>
                            </StackPanel>
                        </Label.Content>
                    </Label>
                </StackPanel>
            </Grid>
            <Grid Name="EditZone" Background="#FF41403E"  Height="50" Width="130" Margin="59,24,0,0"
                  Grid.Row="1" Grid.Column="1" 
                  VerticalAlignment="Top"
                  HorizontalAlignment="Left"
                  Panel.ZIndex="900"
                  MouseLeave="EditZone_MouseLeave"
                  Visibility="Hidden">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Left" Width="130">
                    <Label  Style="{StaticResource Button}"  Name="btnPrev" MouseDown="prev">
                        <Label.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Отменить"/>
                                <TextBlock Text="Ctrl+Z" Margin="50,0,0,0" Foreground="Gray"/>
                            </StackPanel>
                        </Label.Content>
                    </Label>
                    <Label  Style="{StaticResource Button}" Name="btnNext" MouseDown="next">
                        <Label.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Восстановить"/>
                                <TextBlock Text="Ctrl+Y" Margin="33,0,0,0" Foreground="Gray"/>
                            </StackPanel>
                        </Label.Content>
                    </Label>
                    <Label  Style="{StaticResource Button}"  Name="btnDelete" MouseDown="inTrash">
                        <Label.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Удалить все"/>
                                <TextBlock Text="Alt+C" Margin="43,0,0,0" Foreground="Gray"/>
                            </StackPanel>
                        </Label.Content>
                    </Label>
                    
                </StackPanel>
                
            </Grid>
            
        </Grid>
    </Border>
        
    
    
</Window>
